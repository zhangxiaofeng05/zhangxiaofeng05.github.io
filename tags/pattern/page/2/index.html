<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Pattern | é£å¹è¿‡çš„çƒŸèŠ±</title>
<meta name="keywords" content="">
<meta name="description" content="hugo blog">
<meta name="author" content="zhangxiaofeng05">
<link rel="canonical" href="https://zhangxiaofeng05.github.io/tags/pattern/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://zhangxiaofeng05.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://zhangxiaofeng05.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://zhangxiaofeng05.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://zhangxiaofeng05.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://zhangxiaofeng05.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://zhangxiaofeng05.github.io/tags/pattern/index.xml">
<link rel="alternate" hreflang="en" href="https://zhangxiaofeng05.github.io/tags/pattern/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://zhangxiaofeng05.github.io/tags/pattern/">
  <meta property="og:site_name" content="é£å¹è¿‡çš„çƒŸèŠ±">
  <meta property="og:title" content="Pattern">
  <meta property="og:description" content="hugo blog">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://zhangxiaofeng05.github.io/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://zhangxiaofeng05.github.io/images/papermod-cover.png">
<meta name="twitter:title" content="Pattern">
<meta name="twitter:description" content="hugo blog">

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zhangxiaofeng05.github.io/" accesskey="h" title="é£å¹è¿‡çš„çƒŸèŠ± (Alt + H)">é£å¹è¿‡çš„çƒŸèŠ±</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zhangxiaofeng05.github.io/search/" title="ğŸ” Search">
                    <span>ğŸ” Search</span>
                </a>
            </li>
            <li>
                <a href="https://zhangxiaofeng05.github.io/archives/" title="â± Archives">
                    <span>â± Archives</span>
                </a>
            </li>
            <li>
                <a href="https://zhangxiaofeng05.github.io/posts/" title="ğŸ“š Posts">
                    <span>ğŸ“š Posts</span>
                </a>
            </li>
            <li>
                <a href="https://zhangxiaofeng05.github.io/tags/" title="ğŸ”– Tags">
                    <span>ğŸ”– Tags</span>
                </a>
            </li>
            <li>
                <a href="https://zhangxiaofeng05.github.io/categories/" title="ğŸ§© Categories">
                    <span>ğŸ§© Categories</span>
                </a>
            </li>
            <li>
                <a href="https://zhangxiaofeng05.github.io/firefly/" title="ğŸ”¥ Firefly">
                    <span>ğŸ”¥ Firefly</span>
                </a>
            </li>
            <li>
                <a href="https://zhangxiaofeng05.github.io/about/" title="ğŸ™‹ğŸ»â€â™‚ï¸ About">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸ About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://zhangxiaofeng05.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://zhangxiaofeng05.github.io/tags/">Tags</a></div>
  <h1>
    Pattern
    <a href="/tags/pattern/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">è¡Œä¸ºå‹æ¨¡å¼-å‘½ä»¤æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ å‘½ä»¤æ¨¡å¼ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹çš„èŒƒç•´ä¸­ï¼Œå‘½ä»¤æ¨¡å¼ï¼ˆè‹±è¯­ï¼šCommand patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°è¯•ä»¥å¯¹è±¡æ¥ä»£è¡¨å®é™…è¡ŒåŠ¨ã€‚å‘½ä»¤å¯¹è±¡å¯ä»¥æŠŠè¡ŒåŠ¨(action) åŠå…¶å‚æ•°å°è£…èµ·æ¥ï¼Œäºæ˜¯è¿™äº›è¡ŒåŠ¨å¯ä»¥è¢«ï¼š
é‡å¤å¤šæ¬¡ å–æ¶ˆï¼ˆå¦‚æœè¯¥å¯¹è±¡æœ‰å®ç°çš„è¯ï¼‰ å–æ¶ˆååˆå†é‡åš è¿™äº›éƒ½æ˜¯ç°ä»£å¤§å‹åº”ç”¨ç¨‹åºæ‰€å¿…é¡»çš„åŠŸèƒ½ï¼Œå³â€œæ’¤é”€â€åŠâ€œé‡å¤â€ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ç”¨å‘½ä»¤æ¨¡å¼æ¥å®ç°çš„åŠŸèƒ½ä¾‹å­è¿˜æœ‰ï¼š
äº¤æ˜“è¡Œä¸º è¿›åº¦åˆ— å‘å¯¼ ç”¨æˆ·ç•Œé¢æŒ‰é’®åŠåŠŸèƒ½è¡¨é¡¹ç›® çº¿ç¨‹ pool å®æ”¶å½• Java import java.util.List; import java.util.ArrayList; /* The Command interface */ public interface Command { void execute(); } /* The Invoker class */ public class Switch { private List&lt;Command&gt; history = new ArrayList&lt;Command&gt;(); public Switch() { } public void storeAndExecute(Command cmd) { this.history.add(cmd); // optional cmd.execute(); } } /* The Receiver class */ public class Light { public Light() { } public void turnOn() { System.out.println(&#34;The light is on&#34;); } public void turnOff() { System.out.println(&#34;The light is off&#34;); } } /* The Command for turning on the light - ConcreteCommand #1 */ public class FlipUpCommand implements Command { private Light theLight; public FlipUpCommand(Light light) { this.theLight = light; } public void execute(){ theLight.turnOn(); } } /* The Command for turning off the light - ConcreteCommand #2 */ public class FlipDownCommand implements Command { private Light theLight; public FlipDownCommand(Light light) { this.theLight = light; } public void execute() { theLight.turnOff(); } } /* The test class or client */ public class PressSwitch { public static void main(String[] args){ Light lamp = new Light(); Command switchUp = new FlipUpCommand(lamp); Command switchDown = new FlipDownCommand(lamp); Switch mySwitch = new Switch(); try { if (&#34;ON&#34;.equalsIgnoreCase(args[0])) { mySwitch.storeAndExecute(switchUp); } else if (&#34;OFF&#34;.equalsIgnoreCase(args[0])) { mySwitch.storeAndExecute(switchDown); } else { System.out.println(&#34;Argument \&#34;ON\&#34; or \&#34;OFF\&#34; is required.&#34;); } } catch (Exception e) { System.out.println(&#34;Arguments required.&#34;); } } } ä¾‹å­ Receiver çŸ¥é“å¦‚ä½•å®ç°ä¸æ‰§è¡Œä¸€ä¸ªè¯·æ±‚ç›¸å…³çš„æ“ä½œã€‚ä»»ä½•ç±»éƒ½å¯èƒ½ä½œä¸ºä¸€ä¸ªæ¥æ”¶è€…ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-26 11:33:26 +0800 +0800'>August 26, 2019</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to è¡Œä¸ºå‹æ¨¡å¼-å‘½ä»¤æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/command-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">è¡Œä¸ºå‹æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ è´£ä»»é“¾æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼åœ¨é¢å‘å¯¹è±¡ç¨‹å¼è®¾è®¡é‡Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒåŒ…å«äº†ä¸€äº›å‘½ä»¤å¯¹è±¡å’Œä¸€ç³»åˆ—çš„å¤„ç†å¯¹è±¡ã€‚æ¯ä¸€ä¸ªå¤„ç†å¯¹è±¡å†³å®šå®ƒèƒ½å¤„ç†å“ªäº›å‘½ä»¤å¯¹è±¡ï¼Œå®ƒä¹ŸçŸ¥é“å¦‚ä½•å°†å®ƒä¸èƒ½å¤„ç†çš„å‘½ä»¤å¯¹è±¡ä¼ é€’ç»™è¯¥é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡ã€‚è¯¥æ¨¡å¼è¿˜æè¿°äº†å¾€è¯¥å¤„ç†é“¾çš„æœ«å°¾æ·»åŠ æ–°çš„å¤„ç†å¯¹è±¡çš„æ–¹æ³•ã€‚
Java ä»¥ä¸‹çš„æ—¥å¿—ç±»(logging)ä¾‹å­æ¼”ç¤ºäº†è¯¥æ¨¡å¼ã€‚ æ¯ä¸€ä¸ªlogging handleré¦–å…ˆå†³å®šæ˜¯å¦éœ€è¦åœ¨è¯¥å±‚åšå¤„ç†ï¼Œç„¶åå°†æ§åˆ¶ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªlogging handlerã€‚ç¨‹åºçš„è¾“å‡ºæ˜¯:
Writing to debug output: Entering function y. Writing to debug output: Step1 completed. Sending via e-mail: Step1 completed. Writing to debug output: An error has occurred. Sending via e-mail: An error has occurred. Writing to stderr: An error has occurred. æ³¨æ„ï¼šè¯¥ä¾‹å­ä¸æ˜¯æ—¥å¿—ç±»çš„æ¨èå®ç°æ–¹å¼ã€‚
åŒæ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šå¸¸åœ¨è´£ä»»é“¾æ¨¡å¼çš„å®ç°ä¸­ï¼Œå¦‚æœåœ¨æŸä¸€å±‚å·²ç»å¤„ç†äº†è¿™ä¸ªloggerï¼Œé‚£ä¹ˆè¿™ä¸ªloggerå°±ä¸ä¼šä¼ é€’ä¸‹å»ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¶ˆæ¯ä¼šä¸€ç›´ä¼ é€’åˆ°æœ€åº•å±‚ä¸ç®¡å®ƒæ˜¯å¦å·²ç»è¢«å¤„ç†ã€‚
abstract class Logger { public static int ERR = 3; public static int NOTICE = 5; public static int DEBUG = 7; protected int mask; // The next element in the chain of responsibility protected Logger next; public Logger setNext( Logger l) { next = l; return this; } public final void message( String msg, int priority ) { if ( priority &lt;= mask ) { writeMessage( msg ); if ( next != null ) { next.message( msg, priority ); } } } protected abstract void writeMessage( String msg ); } class StdoutLogger extends Logger { public StdoutLogger( int mask ) { this.mask = mask; } protected void writeMessage( String msg ) { System.out.println( &#34;Writting to stdout: &#34; &#43; msg ); } } class EmailLogger extends Logger { public EmailLogger( int mask ) { this.mask = mask; } protected void writeMessage( String msg ) { System.out.println( &#34;Sending via email: &#34; &#43; msg ); } } class StderrLogger extends Logger { public StderrLogger( int mask ) { this.mask = mask; } protected void writeMessage( String msg ) { System.out.println( &#34;Sending to stderr: &#34; &#43; msg ); } } public class ChainOfResponsibilityExample { public static void main( String[] args ) { // Build the chain of responsibility Logger l = new StdoutLogger( Logger.DEBUG).setNext( new EmailLogger( Logger.NOTICE ).setNext( new StderrLogger( Logger.ERR ) ) ); // Handled by StdoutLogger l.message( &#34;Entering function y.&#34;, Logger.DEBUG ); // Handled by StdoutLogger and EmailLogger l.message( &#34;Step1 completed.&#34;, Logger.NOTICE ); // Handled by all three loggers l.message( &#34;An error has occurred.&#34;, Logger.ERR ); } } ä¾‹å­ public interface Request { } public class DimissionRequest implements Request { } public class AddMoneyRequest implements Request { } public class LeaveRequest implements Request { } Handler
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-26 08:54:49 +0800 +0800'>August 26, 2019</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to è¡Œä¸ºå‹æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/responsibility-chain-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ç»“æ„å‹æ¨¡å¼-ä»£ç†æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ ä»£ç†æ¨¡å¼ ä»£ç†æ¨¡å¼ï¼ˆè‹±è¯­ï¼šProxy Patternï¼‰æ˜¯ç¨‹åºè®¾è®¡ä¸­çš„ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚
æ‰€è°“çš„ä»£ç†è€…æ˜¯æŒ‡ä¸€ä¸ªç±»åˆ«å¯ä»¥ä½œä¸ºå…¶å®ƒä¸œè¥¿çš„æ¥å£ã€‚ä»£ç†è€…å¯ä»¥ä½œä»»ä½•ä¸œè¥¿çš„æ¥å£ï¼šç½‘ç»œè¿æ¥ã€å­˜å‚¨å™¨ä¸­çš„å¤§å¯¹è±¡ã€æ–‡ä»¶æˆ–å…¶å®ƒæ˜‚è´µæˆ–æ— æ³•å¤åˆ¶çš„èµ„æºã€‚
è‘—åçš„ä»£ç†æ¨¡å¼ä¾‹å­ä¸ºå¼•ç”¨è®¡æ•°ï¼ˆè‹±è¯­ï¼šreference countingï¼‰æŒ‡é’ˆå¯¹è±¡ã€‚
å½“ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„å¤šä»½å‰¯æœ¬é¡»å­˜åœ¨æ—¶ï¼Œä»£ç†æ¨¡å¼å¯ä»¥ç»“åˆäº«å…ƒæ¨¡å¼ä»¥å‡å°‘å­˜å‚¨å™¨ç”¨é‡ã€‚å…¸å‹ä½œæ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¤æ‚å¯¹è±¡åŠå¤šä¸ªä»£ç†è€…ï¼Œæ¯ä¸ªä»£ç†è€…ä¼šå¼•ç”¨åˆ°åŸæœ¬çš„å¤æ‚å¯¹è±¡ã€‚è€Œä½œç”¨åœ¨ä»£ç†è€…çš„è¿ç®—ä¼šè½¬é€åˆ°åŸæœ¬å¯¹è±¡ã€‚ä¸€æ—¦æ‰€æœ‰çš„ä»£ç†è€…éƒ½ä¸å­˜åœ¨æ—¶ï¼Œå¤æ‚å¯¹è±¡ä¼šè¢«ç§»é™¤ã€‚
Java ä»¥ä¸‹Javaç¤ºä¾‹è§£é‡Š&#34;è™šæ‹Ÿä»£ç†&#34;æ¨¡å¼ã€‚ProxyImage ç±»åˆ«ç”¨æ¥è®¿é—®è¿œç¨‹æ–¹æ³•ã€‚
import java.util.*; interface Image { public void displayImage(); } //on System A class RealImage implements Image { private String filename; public RealImage(String filename) { this.filename = filename; loadImageFromDisk(); } private void loadImageFromDisk() { System.out.println(&#34;Loading &#34; &#43; filename); } public void displayImage() { System.out.println(&#34;Displaying &#34; &#43; filename); } } //on System B class ProxyImage implements Image { private String filename; private Image image; public ProxyImage(String filename) { this.filename = filename; } public void displayImage() { if(image == null) image = new RealImage(filename); image.displayImage(); } } class ProxyExample { public static void main(String[] args) { Image image1 = new ProxyImage(&#34;HiRes_10MB_Photo1&#34;); Image image2 = new ProxyImage(&#34;HiRes_10MB_Photo2&#34;); image1.displayImage(); // loading necessary image2.displayImage(); // loading necessary } } ç¨‹åºçš„è¾“å‡ºä¸ºï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-25 22:46:31 +0800 +0800'>August 25, 2019</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to ç»“æ„å‹æ¨¡å¼-ä»£ç†æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/proxy-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ç»“æ„å‹æ¨¡å¼-äº«å…ƒæ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ äº«å…ƒæ¨¡å¼ äº«å…ƒæ¨¡å¼ï¼ˆè‹±è¯­ï¼šFlyweight Patternï¼‰æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚å®ƒä½¿ç”¨å…±äº«ç‰©ä»¶ï¼Œç”¨æ¥å°½å¯èƒ½å‡å°‘å†…å­˜ä½¿ç”¨é‡ä»¥åŠåˆ†äº«èµ„è®¯ç»™å°½å¯èƒ½å¤šçš„ç›¸ä¼¼ç‰©ä»¶ï¼›å®ƒé€‚åˆç”¨äºå½“å¤§é‡ç‰©ä»¶åªæ˜¯é‡å¤å› è€Œå¯¼è‡´æ— æ³•ä»¤äººæ¥å—çš„ä½¿ç”¨å¤§é‡å†…å­˜ã€‚é€šå¸¸ç‰©ä»¶ä¸­çš„éƒ¨åˆ†çŠ¶æ€æ˜¯å¯ä»¥åˆ†äº«ã€‚å¸¸è§åšæ³•æ˜¯æŠŠå®ƒä»¬æ”¾åœ¨å¤–éƒ¨æ•°æ®ç»“æ„ï¼Œå½“éœ€è¦ä½¿ç”¨æ—¶å†å°†å®ƒä»¬ä¼ é€’ç»™äº«å…ƒã€‚
å…¸å‹çš„äº«å…ƒæ¨¡å¼çš„ä¾‹å­ä¸ºæ–‡ä¹¦å¤„ç†å™¨ä¸­ä»¥å›¾å½¢ç»“æ„æ¥è¡¨ç¤ºå­—ç¬¦ã€‚ä¸€ä¸ªåšæ³•æ˜¯ï¼Œæ¯ä¸ªå­—å½¢æœ‰å…¶å­—å‹å¤–è§‚, å­—æ¨¡ metrics, å’Œå…¶å®ƒæ ¼å¼èµ„è®¯ï¼Œä½†è¿™ä¼šä½¿æ¯ä¸ªå­—ç¬¦å°±è€—ç”¨ä¸Šåƒå­—èŠ‚ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæ¯ä¸ªå­—ç¬¦å‚ç…§åˆ°ä¸€ä¸ªå…±äº«å­—å½¢ç‰©ä»¶ï¼Œæ­¤ç‰©ä»¶ä¼šè¢«å…¶å®ƒæœ‰å…±åŒç‰¹è´¨çš„å­—ç¬¦æ‰€åˆ†äº«ï¼›åªæœ‰æ¯ä¸ªå­—ç¬¦ï¼ˆæ–‡ä»¶ä¸­æˆ–é¡µé¢ä¸­ï¼‰çš„ä½ç½®æ‰éœ€è¦å¦å¤–å‚¨å­˜ã€‚
Java ä»¥ä¸‹ç¨‹å¼ç”¨æ¥è§£é‡Šä¸Šè¿°çš„æ–‡å­—ã€‚è¿™ä¸ªä¾‹å­ç”¨æ¥è§£é‡Šäº«å…ƒæ¨¡å¼åˆ©ç”¨åªåŠ è½½æ‰§è¡Œä»»åŠ¡æ—¶æ‰€å¿…éœ€çš„æœ€å°‘èµ„æ–™ï¼Œå› è€Œå‡å°‘å†…å­˜ä½¿ç”¨é‡ã€‚
public enum FontEffect { BOLD, ITALIC, SUPERSCRIPT, SUBSCRIPT, STRIKETHROUGH } public final class FontData { /** * A weak hash map will drop unused references to FontData. * Values have to be wrapped in WeakReferences, * because value objects in weak hash map are held by strong references. */ private static final WeakHashMap&lt;FontData, WeakReference&lt;FontData&gt;&gt; FLY_WEIGHT_DATA = new WeakHashMap&lt;FontData, WeakReference&lt;FontData&gt;&gt;(); private final int pointSize; private final String fontFace; private final Color color; private final Set&lt;FontEffect&gt; effects; private FontData(int pointSize, String fontFace, Color color, EnumSet&lt;FontEffect&gt; effects) { this.pointSize = pointSize; this.fontFace = fontFace; this.color = color; this.effects = Collections.unmodifiableSet(effects); } public static FontData create(int pointSize, String fontFace, Color color, FontEffect... effects) { EnumSet&lt;FontEffect&gt; effectsSet = EnumSet.noneOf(FontEffect.class); for (FontEffect fontEffect : effects) { effectsSet.add(fontEffect); } // We are unconcerned with object creation cost, we are reducing overall memory consumption FontData data = new FontData(pointSize, fontFace, color, effectsSet); // Retrieve previously created instance with the given values if it (still) exists WeakReference&lt;FontData&gt; ref = FLY_WEIGHT_DATA.get(data); FontData result = (ref != null) ? ref.get() : null; // Store new font data instance if no matching instance exists if (result == null) { FLY_WEIGHT_DATA.put(data, new WeakReference&lt;FontData&gt; (data)); result = data; } // return the single immutable copy with the given values return result; } @Override public boolean equals(Object obj) { if (obj instanceof FontData) { if (obj == this) { return true; } FontData other = (FontData) obj; return other.pointSize == pointSize &amp;&amp; other.fontFace.equals(fontFace) &amp;&amp; other.color.equals(color) &amp;&amp; other.effects.equals(effects); } return false; } @Override public int hashCode() { return (pointSize * 37 &#43; effects.hashCode() * 13) * fontFace.hashCode(); } // Getters for the font data, but no setters. FontData is immutable. } ä¾‹å­ Flyweight
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-25 10:51:19 +0800 +0800'>August 25, 2019</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to ç»“æ„å‹æ¨¡å¼-äº«å…ƒæ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/flyweight-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ç»“æ„å‹æ¨¡å¼-å¤–è§‚æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ å¤–è§‚æ¨¡å¼ å¤–è§‚æ¨¡å¼ï¼ˆFacade patternï¼‰ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ä¸­å¸¸ç”¨çš„ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„é«˜å±‚æ¥å£ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚
Java è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡çš„ç¤ºä¾‹ã€‚ä¸€ä¸ªå®¢æˆ·â€œyouâ€é€šè¿‡å¤–è§‚æ¥å£â€œcomputerâ€è·å–è®¡ç®—æœºå†…éƒ¨å¤æ‚çš„ç³»ç»Ÿä¿¡æ¯ã€‚
/* Complex parts */ class CPU { public void freeze() { ... } public void jump(long position) { ... } public void execute() { ... } } class Memory { public void load(long position, byte[] data) { ... } } class HardDrive { public byte[] read(long lba, int size) { ... } } /* FaÃ§ade */ class Computer { public void startComputer() { cpu.freeze(); memory.load(BOOT_ADDRESS, hardDrive.read(BOOT_SECTOR, SECTOR_SIZE)); cpu.jump(BOOT_ADDRESS); cpu.execute(); } } /* Client */ class You { public static void main(String[] args) { Computer facade = new Computer(); facade.startComputer(); } } ä¾‹å­ æŠ½è±¡ç±»
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-25 10:20:54 +0800 +0800'>August 25, 2019</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to ç»“æ„å‹æ¨¡å¼-å¤–è§‚æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/facade-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ç»“æ„å‹æ¨¡å¼-è£…é¥°æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ ä¿®é¥°æ¨¡å¼ ä¿®é¥°æ¨¡å¼ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œä¸€ç§åŠ¨æ€åœ°å¾€ä¸€ä¸ªç±»ä¸­æ·»åŠ æ–°çš„è¡Œä¸ºçš„è®¾è®¡æ¨¡å¼ã€‚å°±åŠŸèƒ½è€Œè¨€ï¼Œä¿®é¥°æ¨¡å¼ç›¸æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ï¼Œè¿™æ ·å¯ä»¥ç»™æŸä¸ªå¯¹è±¡è€Œä¸æ˜¯æ•´ä¸ªç±»æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚
ä»‹ç» é€šè¿‡ä½¿ç”¨ä¿®é¥°æ¨¡å¼ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ‰©å……ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚åŸç†æ˜¯ï¼šå¢åŠ ä¸€ä¸ªä¿®é¥°ç±»åŒ…è£¹åŸæ¥çš„ç±»ï¼ŒåŒ…è£¹çš„æ–¹å¼ä¸€èˆ¬æ˜¯é€šè¿‡åœ¨å°†åŸæ¥çš„å¯¹è±¡ä½œä¸ºä¿®é¥°ç±»çš„æ„é€ å‡½æ•°çš„å‚æ•°ã€‚è£…é¥°ç±»å®ç°æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œåœ¨ä¸éœ€è¦ç”¨åˆ°æ–°åŠŸèƒ½çš„åœ°æ–¹ï¼Œå®ƒå¯ä»¥ç›´æ¥è°ƒç”¨åŸæ¥çš„ç±»ä¸­çš„æ–¹æ³•ã€‚ä¿®é¥°ç±»å¿…é¡»å’ŒåŸæ¥çš„ç±»æœ‰ç›¸åŒçš„æ¥å£ã€‚
ä¿®é¥°æ¨¡å¼æ˜¯ç±»ç»§æ‰¿çš„å¦å¤–ä¸€ç§é€‰æ‹©ã€‚ç±»ç»§æ‰¿åœ¨ç¼–è¯‘æ—¶å€™å¢åŠ è¡Œä¸ºï¼Œè€Œè£…é¥°æ¨¡å¼æ˜¯åœ¨è¿è¡Œæ—¶å¢åŠ è¡Œä¸ºã€‚
å½“æœ‰å‡ ä¸ªç›¸äº’ç‹¬ç«‹çš„åŠŸèƒ½éœ€è¦æ‰©å……æ—¶ï¼Œè¿™ä¸ªåŒºåˆ«å°±å˜å¾—å¾ˆé‡è¦ã€‚åœ¨æœ‰äº›é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œç±»ä¸èƒ½åœ¨è¿è¡Œæ—¶è¢«åˆ›å»ºï¼Œé€šå¸¸åœ¨è®¾è®¡çš„æ—¶å€™ä¹Ÿä¸èƒ½é¢„æµ‹åˆ°æœ‰å“ªå‡ ç§åŠŸèƒ½ç»„åˆã€‚è¿™å°±æ„å‘³ç€è¦ä¸ºæ¯ä¸€ç§ç»„åˆåˆ›å»ºä¸€ä¸ªæ–°ç±»ã€‚ç›¸åï¼Œä¿®é¥°æ¨¡å¼æ˜¯é¢å‘è¿è¡Œæ—¶å€™çš„å¯¹è±¡å®ä¾‹çš„,è¿™æ ·å°±å¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦è¿›è¡Œç»„åˆã€‚ä¸€ä¸ªä¿®é¥°æ¨¡å¼çš„ç¤ºä¾‹æ˜¯JAVAé‡Œçš„Java I/O Streamsçš„å®ç°ã€‚
åŠ¨æœº ä¾‹å¦‚ï¼Œä¸€ä¸ªçª—å£ç³»ç»Ÿä¸­çš„çª—å£ï¼Œå…è®¸è¿™ä¸ªçª—å£å†…å®¹æ»šåŠ¨ï¼Œæˆ‘ä»¬å¸Œæœ›ç»™å®ƒæ·»åŠ æ°´å¹³æˆ–å‚ç›´æ»šåŠ¨æ¡ã€‚å‡è®¾çª—å£é€šè¿‡â€œWindowâ€ç±»å®ä¾‹æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”å‡è®¾å®ƒæ²¡æœ‰æ·»åŠ æ»šåŠ¨æ¡åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå­ç±»â€œScrollingWindowâ€æ¥æä¾›ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªScrollingWindowDecoratoræ¥ä¸ºå·²å­˜åœ¨çš„Windowå¯¹è±¡æ·»åŠ è¿™ä¸ªåŠŸèƒ½ã€‚åœ¨è¿™ç‚¹ä¸Šï¼Œåªè¦æ˜¯è§£å†³æ–¹æ¡ˆå°±å¯ä»¥äº†ã€‚ ç°åœ¨æˆ‘ä»¬å‡è®¾å¸Œæœ›é€‰æ‹©ç»™æˆ‘ä»¬çš„çª—å£æ·»åŠ è¾¹æ¡†ï¼ŒåŒæ ·ï¼Œæˆ‘ä»¬çš„åŸå§‹Windowç±»ä¸æ”¯æŒã€‚ScrollingWindowå­ç±»ç°åœ¨ä¼šé€ æˆä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒä¼šæœ‰æ•ˆçš„åˆ›å»ºä¸€ç§æ–°çš„çª—å£ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ç»™æ‰€æœ‰çª—å£æ·»åŠ è¾¹æ¡†ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºWindowWithBorderå’ŒScrollingWindowWithBorderå­ç±»ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸ªé—®é¢˜ç”±äºè¢«æ·»åŠ ç±»è€Œå˜å¾—æ›´ç³Ÿäº†ã€‚å¯¹äºä¿®é¥°æ¨¡å¼ï¼Œæˆ‘ä»¬ç®€å•çš„åˆ›å»ºä¸€ä¸ªæ–°ç±»BorderedWindowDecoratorï¼Œåœ¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ScrollingWindowDecoratoræˆ–BorderedWindowDecoratoræˆ–ä¸¤è€…ç»“åˆæ¥ä¿®é¥°å·²å­˜åœ¨çš„çª—å£ã€‚ ä¸€ä¸ªä¿®é¥°èƒ½å¤Ÿè¢«åº”ç”¨çš„å¦ä¸€ä¸ªå¥½ä¾‹å­æ˜¯å½“æœ‰éœ€è¦æ ¹æ®æŸå¥—è§„åˆ™æˆ–è€…å‡ ä¸ªå¹³è¡Œçš„è§„åˆ™é›†ï¼ˆä¸åŒçš„ç”¨æˆ·å‡­æ®ç­‰ï¼‰é™åˆ¶è®¿é—®å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ã€‚
ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æŒ‰ç…§æŸç»„è§„åˆ™æˆ–å‡ ä¸ªå¹¶è¡Œè§„åˆ™(ä¸åŒç”¨æˆ·è¯ä¹¦ç­‰)éœ€è¦é™åˆ¶è®¿é—®æ—¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸æ˜¯åœ¨åŸå§‹å¯¹è±¡ä¸­å®ç°è®¿é—®æ§åˆ¶è€Œæ˜¯åœ¨ä»–çš„ä½¿ç”¨ä¸­ä¸å˜æˆ–ä¸çŸ¥é“ä»»ä½•é™åˆ¶ï¼Œå¹¶ä¸”ä»–è¢«åŒ…è£…åœ¨ä¸€ä¸ªè®¿é—®æ§åˆ¶ä¿®é¥°å¯¹è±¡ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡èƒ½å¤Ÿå¯¹å…è®¸çš„åŸå§‹å¯¹è±¡çš„æ¥å£å­é›†æœåŠ¡ã€‚
åº”ç”¨ Java IO æµä¸ºå…¸å‹çš„è£…é¥°æ¨¡å¼ã€‚
Java è¿™ä¸ªJAVAç¤ºä¾‹ä½¿ç”¨window/scrollingæƒ…å¢ƒã€‚
// The Window interface class public interface Window { public void draw(); // Draws the Window public String getDescription(); // Returns a description of the Window } // implementation of a simple Window without any scrollbars public class SimpleWindow implements Window { public void draw() { // Draw window } public String getDescription() { return &#34;simple window&#34;; } } ä»¥ä¸‹ç±»åŒ…å«æ‰€æœ‰Windowç±»çš„decoratorï¼Œä»¥åŠä¿®é¥°ç±»æœ¬èº«ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-25 09:31:07 +0800 +0800'>August 25, 2019</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to ç»“æ„å‹æ¨¡å¼-è£…é¥°æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/decorator-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ç»“æ„å‹æ¨¡å¼-æ¡¥æ¥æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ æ¡¥æ¥æ¨¡å¼ æ¡¥æ¥æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­æœ€å¤æ‚çš„æ¨¡å¼ä¹‹ä¸€ï¼Œå®ƒæŠŠäº‹ç‰©å¯¹è±¡å’Œå…¶å…·ä½“è¡Œä¸ºã€å…·ä½“ç‰¹å¾åˆ†ç¦»å¼€æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹çš„å˜åŒ–ã€‚äº‹ç‰©å¯¹è±¡ä»…æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µã€‚å¦‚â€œåœ†å½¢â€ã€â€œä¸‰è§’å½¢â€å½’äºæŠ½è±¡çš„â€œå½¢çŠ¶â€ä¹‹ä¸‹ï¼Œè€Œâ€œç”»åœ†â€ã€â€œç”»ä¸‰è§’â€å½’äºå®ç°è¡Œä¸ºçš„â€œç”»å›¾â€ç±»ä¹‹ä¸‹ï¼Œç„¶åç”±â€œå½¢çŠ¶â€è°ƒç”¨â€œç”»å›¾â€ã€‚
Java /** &#34;Implementor&#34; */ interface DrawingAPI { public void drawCircle(double x, double y, double radius); } /** &#34;ConcreteImplementor&#34; 1/2 */ class DrawingAPI1 implements DrawingAPI { public void drawCircle(double x, double y, double radius) { System.out.printf(&#34;API1.circle at %f:%f radius %f\n&#34;, x, y, radius); } } /** &#34;ConcreteImplementor&#34; 2/2 */ class DrawingAPI2 implements DrawingAPI { public void drawCircle(double x, double y, double radius) { System.out.printf(&#34;API2.circle at %f:%f radius %f\n&#34;, x, y, radius); } } /** &#34;Abstraction&#34; */ interface Shape { public void draw(); // low-level public void resizeByPercentage(double pct); // high-level } /** &#34;Refined Abstraction&#34; */ class CircleShape implements Shape { private double x, y, radius; private DrawingAPI drawingAPI; public CircleShape(double x, double y, double radius, DrawingAPI drawingAPI) { this.x = x; this.y = y; this.radius = radius; this.drawingAPI = drawingAPI; } // low-level i.e. Implementation specific public void draw() { drawingAPI.drawCircle(x, y, radius); } // high-level i.e. Abstraction specific public void resizeByPercentage(double pct) { radius *= pct; } } /** &#34;Client&#34; */ class BridgePattern { public static void main(String[] args) { Shape[] shapes = new Shape[2]; shapes[0] = new CircleShape(1, 2, 3, new DrawingAPI1()); shapes[1] = new CircleShape(5, 7, 11, new DrawingAPI2()); for (Shape shape : shapes) { shape.resizeByPercentage(2.5); shape.draw(); } } } è¿è¡Œç»“æœï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-24 21:46:01 +0800 +0800'>August 24, 2019</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to ç»“æ„å‹æ¨¡å¼-æ¡¥æ¥æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/bridge-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ç»“æ„å‹æ¨¡å¼-é€‚é…å™¨æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ é€‚é…å™¨æ¨¡å¼ åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œé€‚é…å™¨æ¨¡å¼ï¼ˆè‹±è¯­ï¼šadapter patternï¼‰æœ‰æ—¶å€™ä¹Ÿç§°åŒ…è£…æ ·å¼æˆ–è€…åŒ…è£…(wrapper)ã€‚å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¥æˆç”¨æˆ·æ‰€æœŸå¾…çš„ã€‚ä¸€ä¸ªé€‚é…ä½¿å¾—å› æ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»èƒ½åœ¨ä¸€èµ·å·¥ä½œï¼Œåšæ³•æ˜¯å°†ç±»è‡ªå·±çš„æ¥å£åŒ…è£¹åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ä¸­ã€‚
ç»“æ„ æœ‰ä¸¤ç§ç±»å‹çš„é€‚é…å™¨æ¨¡å¼ï¼š
å¯¹è±¡é€‚é…å™¨æ¨¡å¼ åœ¨è¿™ç§é€‚é…å™¨æ¨¡å¼ä¸­ï¼Œé€‚é…å™¨å®¹çº³ä¸€ä¸ªå®ƒåŒ…è£¹çš„ç±»çš„å®ä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€‚é…å™¨è°ƒç”¨è¢«åŒ…è£¹å¯¹è±¡çš„ç‰©ç†å®ä½“ã€‚
ç±»é€‚é…å™¨æ¨¡å¼ è¿™ç§é€‚é…å™¨æ¨¡å¼ä¸‹ï¼Œé€‚é…å™¨ç»§æ‰¿è‡ªå·²å®ç°çš„ç±»ï¼ˆä¸€èˆ¬å¤šé‡ç»§æ‰¿ï¼‰ã€‚
ä¾‹å­ Target å®šä¹‰Clientä½¿ç”¨çš„ä¸ç‰¹å®šé¢†åŸŸç›¸å…³çš„æ¥å£ã€‚
public interface Target { void adapteeMethod(); void adapterMethod(); } Adaptee å®šä¹‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£éœ€è¦é€‚é…ã€‚
public class Adaptee { public void adapteeMethod(){ System.out.println(&#34;Adaptee method&#34;); } } Adapter å¯¹Adapteeçš„æ¥å£ä¸Targetæ¥å£è¿›è¡Œé€‚é…
public class Adapter implements Target{ private Adaptee adaptee; public Adapter(Adaptee adaptee){ this.adaptee=adaptee; } @Override public void adapteeMethod() { adaptee.adapteeMethod(); } @Override public void adapterMethod() { System.out.println(&#34;Adapter method&#34;); } } Client ä¸ç¬¦åˆTargetæ¥å£çš„å¯¹è±¡ååŒã€‚
public class Test { public static void main(String[] args) { Target target = new Adapter(new Adaptee()); target.adapteeMethod(); target.adapterMethod(); } } è¿è¡Œç»“æœï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-24 21:12:02 +0800 +0800'>August 24, 2019</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to ç»“æ„å‹æ¨¡å¼-é€‚é…å™¨æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/adapter-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">åˆ›å»ºå‹æ¨¡å¼-åŸå‹æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ åŸå‹æ¨¡å¼ åŸå‹æ¨¡å¼æ˜¯åˆ›å»ºå‹æ¨¡å¼çš„ä¸€ç§ï¼Œå…¶ç‰¹ç‚¹åœ¨äºé€šè¿‡â€œå¤åˆ¶â€ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹æ¥è¿”å›æ–°çš„å®ä¾‹,è€Œä¸æ˜¯æ–°å»ºå®ä¾‹ã€‚è¢«å¤åˆ¶çš„å®ä¾‹å°±æ˜¯æˆ‘ä»¬æ‰€ç§°çš„â€œåŸå‹â€ï¼Œè¿™ä¸ªåŸå‹æ˜¯å¯å®šåˆ¶çš„ã€‚
åŸå‹æ¨¡å¼å¤šç”¨äºåˆ›å»ºå¤æ‚çš„æˆ–è€…è€—æ—¶çš„å®ä¾‹ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œå¤åˆ¶ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹ä½¿ç¨‹åºè¿è¡Œæ›´é«˜æ•ˆï¼›æˆ–è€…åˆ›å»ºå€¼ç›¸ç­‰ï¼Œåªæ˜¯å‘½åä¸ä¸€æ ·çš„åŒç±»æ•°æ®ã€‚
Java /** Prototype Class **/ public class Cookie implements Cloneable { public Object clone() throws CloneNotSupportedException { //In an actual implementation of this pattern you would now attach references to //the expensive to produce parts from the copies that are held inside the prototype. return (Cookie) super.clone(); } } /** Concrete Prototypes to clone **/ public class CoconutCookie extends Cookie { } /** Client Class**/ public class CookieMachine { private Cookie cookie;//cookieå¿…é¡»æ˜¯å¯å¤åˆ¶çš„ public CookieMachine(Cookie cookie) { this.cookie = cookie; } public Cookie makeCookie() { try { return (Cookie) cookie.clone(); } catch (CloneNotSupportedException e) { e.printStackTrace(); } return null; } public static void main(String args[]){ Cookie tempCookie = null; Cookie prot = new CoconutCookie(); CookieMachine cm = new CookieMachine(prot); //è®¾ç½®åŸå‹ for(int i=0; i&lt;100; i&#43;&#43;) tempCookie = cm.makeCookie();//é€šè¿‡å¤åˆ¶åŸå‹è¿”å›å¤šä¸ªcookie } } ä¾‹å­ Prototype å£°æ˜ä¸€ä¸ªå…‹éš†è‡ªèº«çš„æ¥å£
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-24 18:43:05 +0800 +0800'>August 24, 2019</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to åˆ›å»ºå‹æ¨¡å¼-åŸå‹æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/prototype/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">åˆ›å»ºå‹æ¨¡å¼-å•ä¾‹æ¨¡å¼
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ç»´åŸºç™¾ç§‘ å•ä¾‹æ¨¡å¼ å•ä¾‹æ¨¡å¼ï¼Œä¹Ÿå«å•å­æ¨¡å¼ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚åœ¨åº”ç”¨è¿™ä¸ªæ¨¡å¼æ—¶ï¼Œå•ä¾‹å¯¹è±¡çš„ç±»å¿…é¡»ä¿è¯åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚è®¸å¤šæ—¶å€™æ•´ä¸ªç³»ç»Ÿåªéœ€è¦æ‹¥æœ‰ä¸€ä¸ªçš„å…¨å±€å¯¹è±¡ï¼Œè¿™æ ·æœ‰åˆ©äºæˆ‘ä»¬åè°ƒç³»ç»Ÿæ•´ä½“çš„è¡Œä¸ºã€‚æ¯”å¦‚åœ¨æŸä¸ªæœåŠ¡å™¨ç¨‹åºä¸­ï¼Œè¯¥æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™äº›é…ç½®æ•°æ®ç”±ä¸€ä¸ªå•ä¾‹å¯¹è±¡ç»Ÿä¸€è¯»å–ï¼Œç„¶åæœåŠ¡è¿›ç¨‹ä¸­çš„å…¶ä»–å¯¹è±¡å†é€šè¿‡è¿™ä¸ªå•ä¾‹å¯¹è±¡è·å–è¿™äº›é…ç½®ä¿¡æ¯ã€‚è¿™ç§æ–¹å¼ç®€åŒ–äº†åœ¨å¤æ‚ç¯å¢ƒä¸‹çš„é…ç½®ç®¡ç†ã€‚
å®ç°å•ä¾‹æ¨¡å¼çš„æ€è·¯æ˜¯ï¼šä¸€ä¸ªç±»èƒ½è¿”å›å¯¹è±¡ä¸€ä¸ªå¼•ç”¨(æ°¸è¿œæ˜¯åŒä¸€ä¸ª)å’Œä¸€ä¸ªè·å¾—è¯¥å®ä¾‹çš„æ–¹æ³•ï¼ˆå¿…é¡»æ˜¯é™æ€æ–¹æ³•ï¼Œé€šå¸¸ä½¿ç”¨getInstanceè¿™ä¸ªåç§°ï¼‰ï¼›å½“æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¦‚æœç±»æŒæœ‰çš„å¼•ç”¨ä¸ä¸ºç©ºå°±è¿”å›è¿™ä¸ªå¼•ç”¨ï¼Œå¦‚æœç±»ä¿æŒçš„å¼•ç”¨ä¸ºç©ºå°±åˆ›å»ºè¯¥ç±»çš„å®ä¾‹å¹¶å°†å®ä¾‹çš„å¼•ç”¨èµ‹äºˆè¯¥ç±»ä¿æŒçš„å¼•ç”¨ï¼›åŒæ—¶æˆ‘ä»¬è¿˜å°†è¯¥ç±»çš„æ„é€ å‡½æ•°å®šä¹‰ä¸ºç§æœ‰æ–¹æ³•ï¼Œè¿™æ ·å…¶ä»–å¤„çš„ä»£ç å°±æ— æ³•é€šè¿‡è°ƒç”¨è¯¥ç±»çš„æ„é€ å‡½æ•°æ¥å®ä¾‹åŒ–è¯¥ç±»çš„å¯¹è±¡ï¼Œåªæœ‰é€šè¿‡è¯¥ç±»æä¾›çš„é™æ€æ–¹æ³•æ¥å¾—åˆ°è¯¥ç±»çš„å”¯ä¸€å®ä¾‹ã€‚
å•ä¾‹æ¨¡å¼åœ¨å¤šçº¿ç¨‹çš„åº”ç”¨åœºåˆä¸‹å¿…é¡»å°å¿ƒä½¿ç”¨ã€‚å¦‚æœå½“å”¯ä¸€å®ä¾‹å°šæœªåˆ›å»ºæ—¶ï¼Œæœ‰ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨åˆ›å»ºæ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä»¬åŒæ—¶æ²¡æœ‰æ£€æµ‹åˆ°å”¯ä¸€å®ä¾‹çš„å­˜åœ¨ï¼Œä»è€ŒåŒæ—¶å„è‡ªåˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼Œè¿™æ ·å°±æœ‰ä¸¤ä¸ªå®ä¾‹è¢«æ„é€ å‡ºæ¥ï¼Œä»è€Œè¿åäº†å•ä¾‹æ¨¡å¼ä¸­å®ä¾‹å”¯ä¸€çš„åŸåˆ™ã€‚ è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯ä¸ºæŒ‡ç¤ºç±»æ˜¯å¦å·²ç»å®ä¾‹åŒ–çš„å˜é‡æä¾›ä¸€ä¸ªäº’æ–¥é”(è™½ç„¶è¿™æ ·ä¼šé™ä½æ•ˆç‡)ã€‚
æ„å»ºæ–¹å¼ é€šå¸¸å•ä¾‹æ¨¡å¼åœ¨Javaè¯­è¨€ä¸­ï¼Œæœ‰ä¸¤ç§æ„å»ºæ–¹å¼ï¼š
æ‡’æ±‰æ–¹å¼ã€‚æŒ‡å…¨å±€çš„å•ä¾‹å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶æ„å»ºã€‚ é¥¿æ±‰æ–¹å¼ã€‚æŒ‡å…¨å±€çš„å•ä¾‹å®ä¾‹åœ¨ç±»è£…è½½æ—¶æ„å»ºã€‚ Java åœ¨Javaè¯­è¨€ä¸­ï¼Œå•ä¾‹æ¨¡å¼(é¥¿æ±‰æ¨¡å¼)åº”ç”¨çš„ä¾‹å­å¦‚ä¸‹è¿°ä»£ç æ‰€ç¤ºï¼š
public class Singleton { private static final Singleton INSTANCE = new Singleton(); // Private constructor suppresses // default public constructor private Singleton() {}; public static Singleton getInstance() { return INSTANCE; } } åœ¨Javaç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå•ä¾‹æ¨¡å¼(æ‡’æ±‰æ¨¡å¼)åº”ç”¨çš„ä¾‹å­å¦‚ä¸‹è¿°ä»£ç æ‰€ç¤º (æ­¤ç§æ–¹æ³•åªèƒ½ç”¨åœ¨JDK5åŠä»¥åç‰ˆæœ¬(æ³¨æ„ INSTANCE è¢«å£°æ˜ä¸º volatile)ï¼Œä¹‹å‰çš„ç‰ˆæœ¬ä½¿ç”¨â€œåŒé‡æ£€æŸ¥é”â€ä¼šå‘ç”Ÿéé¢„æœŸè¡Œä¸º)ï¼š
public class Singleton { private static volatile Singleton INSTANCE = null; // Private constructor suppresses // default public constructor private Singleton() {}; //Thread safe and performance promote public static Singleton getInstance() { if(INSTANCE == null){ synchronized(Singleton.class){ // When more than two threads run into the first null check same time, // to avoid instanced more than one time, it needs to be checked again. if(INSTANCE == null){ INSTANCE = new Singleton(); } } } return INSTANCE; } } ä¾‹å­ Singleton
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-08-23 17:53:58 +0800 +0800'>August 23, 2019</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;zhangxiaofeng05</footer>
  <a class="entry-link" aria-label="post link to åˆ›å»ºå‹æ¨¡å¼-å•ä¾‹æ¨¡å¼" href="https://zhangxiaofeng05.github.io/posts/single-case-pattern/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://zhangxiaofeng05.github.io/tags/pattern/">
      Â«&nbsp;Prev&nbsp;1/3
    </a>
    <a class="next" href="https://zhangxiaofeng05.github.io/tags/pattern/page/3/">Next&nbsp;3/3&nbsp;Â»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://zhangxiaofeng05.github.io/">é£å¹è¿‡çš„çƒŸèŠ±</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
